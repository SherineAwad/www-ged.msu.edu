<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>Homeworks 9 &amp; 10</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="homeworks-9-10">
<h1 class="title">Homeworks 9 &amp; 10</h1>
<p>Due Thursday, November 6th, at the beginning of class.</p>
<p>(No office hours this week (Oct 29th); I'll be in Toronto on Wednesday.)</p>
<p>Put all files under homework10/.  The tests and support files are all
available at <a class="reference" href="http://class.ged.idyll.org/svn/files/hw-10/">http://class.ged.idyll.org/svn/files/hw-10/</a>.</p>
<p>A fully working Web server for HW #8 is here:</p>
<blockquote>
<a class="reference" href="http://class.ged.idyll.org/svn/files/hw-10/webserve-ctb-hw8.py">http://class.ged.idyll.org/svn/files/hw-10/webserve-ctb-hw8.py</a></blockquote>
<div class="section">
<h1><a id="fixing-hw-8" name="fixing-hw-8">Fixing HW #8</a></h1>
<p>(2 points)</p>
<p>Due in no small measure to my own mistakes (hey, it's in writing!)
there were a number of problems with HWs #7 and #8; I'll discuss these
in class today.  Sorry!  I've updated webserve-test.py to catch some
of the more problematic ones; please make sure that your code passes
all of the new tests.</p>
<p>Also update your user tests from HW #8 to check that</p>
<blockquote>
<ul class="simple">
<li>commit is called after adding a user</li>
<li>correct cookies are returned appropriately from login</li>
<li>/auth/print prints out the right username when a user cookie
is passed in</li>
</ul>
</blockquote>
<p>Make darn sure that your tests are in the file
'homework10/webserve-user-tests.py', capiche?  Thank you for your
cooperation.</p>
</div>
<div class="section">
<h1><a id="adding-twill-and-selenium-testing" name="adding-twill-and-selenium-testing">Adding twill and Selenium testing</a></h1>
<p>(3 points)</p>
<p>Copy the twill and Selenium tests from hw-10/ into your svn
repository.  Verify that they run correctly against your Web server
(and fix your Web server if they don't!)  Note, this may require
disabling threading for now...</p>
<p>Then, copy the twill test file into 'test-login-escaping.twill' and change it
to verify that the username</p>
<pre class="literal-block">
my name=foo (and I'm happy with it)
</pre>
<p>with the password</p>
<pre class="literal-block">
&lt;it's secret!&gt;
</pre>
<p>can log in, see the correct username via /auth/print, and log out.
(You should add that user to your database, of course!)</p>
<p>Finally, add a Selenium test to do the same thing in the Selenium test
suite; put it in the file 'files/tests/LoginTestWeird.html' and link
it into the test suite file 'files/tests/suite.html'.</p>
<p>Please make sure that all of the code can be run with a straight
checkout from your svn repository, i.e. that the full 'files/'
directory is under your homework10/ directory; it contains all your
Selenium tests; and the sqlite db 'webserve-info.db' is in your main
directory.</p>
</div>
<div class="section">
<h1><a id="intersecting-movies" name="intersecting-movies">Intersecting movies</a></h1>
<p>(2.5 points)</p>
<p>Design an SQL schema to hold a list of actors and the movies they've
been in, as well as a separate list of actresses and the movies
<em>they've</em> been in.  Then fill in the simple Web interface specified in
'files/search-for-movies.html' so that you can search for an actor
and an actress and then see all of the movies that they've been in
together.</p>
<p>I'll give you some sample data and some twill tests in lab on
Thursday.</p>
</div>
<div class="section">
<h1><a id="using-markup-and-css" name="using-markup-and-css">Using markup and CSS</a></h1>
<p>(2.5 points)</p>
<p>Make your web site look good, or at least stylize it, by choosing a
design from Open Source Web Design, <a class="reference" href="http://www.oswd.org/">http://www.oswd.org/</a>, and applying
it to your movie search site.  You can change, add, and remove HTML
files as long as your site continues to pass all of your (and my) unit
and functional tests.</p>
<p>Note that you may have to add appropriate MIME types for png and/or
gif files to your file serving module.  I'll leave that up to you;
Google is your friend.</p>
</div>
</div>
</body>
</html>
