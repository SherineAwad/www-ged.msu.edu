<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>Lecture 2 -- Basics of the Web</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="lecture-2-basics-of-the-web">
<h1 class="title">Lecture 2 -- Basics of the Web</h1>
<p>Sep 8th, 2009.</p>
<p>Q re lab; who has their own laptops?</p>
<p>Q re hw; need everyone's MSU account names; whoever is NOT enrolled.
Email me.</p>
<div class="section">
<h1><a id="how-the-web-works" name="how-the-web-works">How the Web Works</a></h1>
<p>mechanism for content delivery</p>
<p>client -- your browser</p>
<p>server -- remote computer serving content to your browser</p>
<p>transport between client/server works at several levels</p>
<blockquote>
<ul class="simple">
<li>IP</li>
<li>TCP -- connection oriented protocol</li>
<li>HTTP -- synchronous protocol over TCP/IP (transaction oriented)</li>
</ul>
</blockquote>
<p>server maintains watch on standard TCP/IP port (agreed upon location,
defaults to port 80) and response to one or more client requests</p>
<p>what content is delivered?  Server specifies content type; up to client
to handle.  Client can specify supported content types.</p>
<p>Most typical content: HTML, HyperText Markup Language</p>
<p>Can also be PDF, CSS, or really anything else.  Again, client is responsible
for handling.</p>
<p>You've all seen HTML ;)</p>
<p>---</p>
<p>What does a client-server conversation look like?</p>
<blockquote>
<ol class="arabic simple">
<li>client: Hi, I'd like some content.  (connect; query;)</li>
<li>server: OK, here you go. (respond; close)</li>
</ol>
</blockquote>
<p>---</p>
<p>How does a client specify what content to get?</p>
<p>URL, uniform resource locator.</p>
<p>Basic URL:</p>
<blockquote>
protocol://machine:port/path/to/file</blockquote>
<p>'/' is <em>forward</em> slash, note.</p>
<p>The client is responsible for setting up the protocol and making the
connection.  The server is entirely responsible for interpreting the
path.</p>
<p>Note, can also construct relative URLs like UNIX paths, '/path/to/../other/'
resolves to '/path/other'.</p>
<p>---</p>
<p>There are some additional components to a URL that we will mention
later, in particular '?', and some others, namely '#', that I won't
discuss much.</p>
<p>---</p>
<p>OK, so what goes on in these two big black boxes here, the client
side and the server side?  Well, the client side is (conceptually)
rather straightforward: it has a limited set of interactions with the
server, and so it's basically &quot;just&quot; a user interface on top of that
vocabulary.  In practice, of course, it's much more complicated because
of all sorts of things like CSS and JavaScript, but we won't be talking
too much about how to handle that -- we'll just be using it.</p>
<p>The server side, though, is where we'll be spending quite a bit of time,
because (from the CS perspective) it's much more interesting.</p>
<p>You can break this black box down into two slightly smaller black boxes.
The first is the network server part, that handles all of the network
communication; and the second is the application part, that handles
(loosely) &quot;interpretation of URLs.&quot;</p>
<dl class="docutils">
<dt>Why would you want to break the server side down into two more boxes?</dt>
<dd><ul class="first last simple">
<li>network stuff is specialized and OS-specific, while content
production is not OS specific</li>
<li>different talents: network programming is quite different from
writing a Web application.</li>
<li>in practice, any time you can break a big blob down into smaller
blobs with well-defined interface, you can isolate those blobs for
testing and reliability</li>
<li>reductionism</li>
</ul>
</dd>
</dl>
<p>You may have heard of IIS or Apache; they encompass the network server
part and (optionally) provide tools for helping with content serving
and production.</p>
<p>An example of the second part?  Your file system.</p>
<p>We'll spend a lot of time opening up these two black boxes and building
our own.</p>
<p>---</p>
<p>There's something missing in this picture, however.  How does the
client send information to the server?</p>
<p>URL.</p>
<p>Client headers, which includes cookies.</p>
<p>POST data: arbitrary amount of data, in predefined packaged format,
streamed over network as part of a special type of query.</p>
<p>That's <em>it</em>.  Nothing else.</p>
</div>
<div class="section">
<h1><a id="implications-of-this-architecture" name="implications-of-this-architecture">Implications of this architecture</a></h1>
<dl class="docutils">
<dt>standards -- you can write clients and servers to interact however you</dt>
<dd>want, but if you don't adhere to the standard, then no one else
will talk to you.  Power of HTTP is that 95%+ speak it properly.</dd>
</dl>
<p>proxying is easy</p>
<dl class="docutils">
<dt>redirecting between servers -- static HTML to CGI on another server, etc.</dt>
<dd>storing images on separate server</dd>
</dl>
<p>alternate view of Web as RPC mechanism</p>
<p>Network burden on server for clients not actively connecting to it is
nil.</p>
</div>
<div class="section">
<h1><a id="common-gateway-interface-cgi" name="common-gateway-interface-cgi">Common Gateway Interface (CGI)</a></h1>
<p>Server side system for running scripts from file system; developed with
NCSA httpd, =&gt; Apache.  Supported in some form by many servers, including
one built into Python.</p>
<p>The cgi module in Python handles the inputs.</p>
<p>The outputs are headers, and HTML.  The inputs are environment
variables and stdin.  The Web server (Apache or IIS) does all of the
parsing of the HTTP headers, and turns them into a standard set of
environment variables.</p>
<p>CGI was really the first widely used method for producing content
dynamically on the Web, back in the mid 1990s.</p>
<p>Easy to write a basic CGI script.</p>
<p>Multi-language; scripts can be in any language, as long as they take in
known inputs and give outputs.</p>
<p>There are security issues, however, because of the way many CGI setups
used to work.  As you'll see on Thursday and in the homework, CSE lets
you run your own CGI scripts, which means you're now giving potentially
anyone the ability to run a script on your server, which in turn can lead
to big security holes.</p>
<p>CGI is also a performance issue, because it requires a new process
every time, which is quite expensive for the server.  We'll talk about
this in more detail later.</p>
<p>These two issues (security and performance) are the main reasons that
CGI has declined in use.</p>
<p>For the first homework, you'll be writing your own CGI script so that
we can give you a toe hold into the Web development world and get
hands on experience with some of the basic concepts.</p>
<p>---</p>
<p>Will post today:</p>
<blockquote>
<ul class="simple">
<li>python resources etc.</li>
<li>last year's notes</li>
</ul>
</blockquote>
<p>---</p>
<!-- hw/lab

 subversion accounts
 getting hello world cgi script working in your account on arctic;
  - scripts in UNIX
  - cgitb; script must parse!
 useful unix techniques; emacs, vi
 brief Python intro; introspection; repr vs str

 loading straight HTML Web page

 cgi script to process some form or other

  #1.  Get hello, world CGI script working
  #2.  Write a simple form processor that involves string manipulation:
       if, for, string slicing, string concatenation, lists?, dicts?
       cgi module, int, string interpolation

next week:

  running your own CGI server -->
</div>
</div>
</body>
</html>
